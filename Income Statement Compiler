#include <iostream>
#include <string>
#include <iomanip>
using namespace std;

// Struktur data untuk menyimpan informasi produk
struct Produk {
    string namaProduk; 
    double hargaPerUnit;
    int jumlahUnit;
    int unitTerjual;
};

// Fungsi untuk menginput data produk ke dalam array struktur Produk (tety)
void inputData(Produk data[], int n) {
// Perulangan sebanyak n untuk menginput data produk
    for (int i = 0; i < n; i++) {
        cout << "Nama Produk ke-" << i + 1 << ": ";
        cin.ignore(); // Membersihkan buffer input
        getline(cin, data[i].namaProduk); // Membaca seluruh baris input dari cin dan menyimpannya ke anggota namaProduk dari elemen array data yang sedang diproses
        cout << "Harga per-unit: "; 
        cin >> data[i].hargaPerUnit; // Membaca nilai dan menyimpannya ke anggota hargaPerUnit dari data[i]
        cout << "Jumlah Unit: ";
        cin >> data[i].jumlahUnit; // Membaca nilai dan menyimpannya ke anggota JumlahUnit dari data[i]
        cout << "Unit yang Terjual: ";
        cin >> data[i].unitTerjual; // Membaca nilai dan menyimpannya ke anggota unitTerjual dari data[i]
        cout << endl;
    }
}

// Fungsi untuk menghitung total pendapatan (mayang)
// Deklarasi fungsi hitungPendapatan
double hitungPendapatan(Produk data[], int n) {
    double totalPendapatan = 0;
// Perulangan sebanyak n untuk menghitung pendapatan produk
    for (int i = 0; i < n; i++) {
        double pendapatan = data[i].hargaPerUnit * data[i].unitTerjual; // Melakukan perhitungan pendapatan untuk produk yang sedang diproses
        cout << fixed << setprecision(0); // Mengatur format output untuk angka desimal yang akan ditampilkan
        cout << "Pendapatan " << data[i].namaProduk << ": " << pendapatan << endl;
        totalPendapatan += pendapatan; // Mengakumulasi total pendapatan
    }
    return totalPendapatan; // Mengembalikan nilai akhir dari totalPendapatan ke fungsi Main()
}

// Fungsi untuk menentukan kesimpulan (melan)
void tentukanKesimpulan(double modal, double totalPendapatan) {
	// Percabangan
    if (modal > totalPendapatan) {
        cout << "Bisnis mengalami kerugian dengan total: " << modal - totalPendapatan << endl;
    } else if (modal < totalPendapatan) {
        cout << "Bisnis mendapat keuntungan sebesar: " << totalPendapatan - modal << endl;
    } else {
        cout << "Tidak untung tidak rugi" << endl;
    }
}

// Fungsi utama (mega)
int main() {
    int n; // Deklarasi variabel integer n
    cout << "Jumlah produk yang dijual: ";
    cin >> n; // Membaca input integer dari pengguna dan menyimpannya ke dalam variabel n

    Produk data[n]; // Deklarasi dan alokasi array dari tipe struktur Produk
    inputData(data, n); // Memanggil fungsi inputData (Bagian Mayang).

    double modal;
    cout << "Modal: ";
    cin >> modal;

    double totalPendapatan = hitungPendapatan(data, n); // Memanggil fungsi hitungPendapatan
    cout << fixed << setprecision(0); // Mengatur format output untuk menampilkan angka desimal sebagai bilangan bulat
    cout << "Total Pendapatan: " << totalPendapatan << endl; 
    tentukanKesimpulan(modal, totalPendapatan); // Memanggil fungsi tentukanKesimpulan

    return 0;
}
